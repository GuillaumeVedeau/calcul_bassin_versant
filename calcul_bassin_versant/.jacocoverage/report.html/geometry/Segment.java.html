<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Segment.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;calcul_bassin_versant&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">geometry</a> &gt; <span class="el_source">Segment.java</span></div><h1>Segment.java</h1><pre class="source lang-java linenums">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package geometry;

import java.util.ArrayList;

/**
 * gere les objets de type Segment prenant en compte les triangles juxtaposés et
 * leur état de traitement
 *
 * @author Utilisateur
 */
public class Segment {

    private int point1;
    private int point2;
    private int tridroit;
    private int trigauche;
    private boolean traiteDroit;
    private boolean traiteGauche;

    /**
     * classic constructor
     *
     * @param point1
     * @param point2
     */
<span class="fc" id="L31">    public Segment(int point1, int point2) {</span>
<span class="fc" id="L32">        this.point1 = point1;</span>
<span class="fc" id="L33">        this.point2 = point2;</span>
<span class="fc" id="L34">        this.tridroit = 0;</span>
<span class="fc" id="L35">        this.trigauche = 0;</span>
<span class="fc" id="L36">        this.traiteDroit = false;</span>
<span class="fc" id="L37">        this.traiteGauche = false;</span>
<span class="fc" id="L38">    }</span>

    /**
     * complete constructor
     *
     * @param point1
     * @param point2
     * @param tridroit
     * @param trigauche
     */
<span class="fc" id="L48">    public Segment(int point1, int point2, int tridroit, int trigauche) {</span>
<span class="fc" id="L49">        this.point1 = point1;</span>
<span class="fc" id="L50">        this.point2 = point2;</span>
<span class="fc" id="L51">        this.tridroit = tridroit;</span>
<span class="fc" id="L52">        this.trigauche = trigauche;</span>
<span class="fc" id="L53">        this.traiteDroit = false;</span>
<span class="fc" id="L54">        this.traiteGauche = false;</span>
<span class="fc" id="L55">    }</span>

    /**
     * Default constructor
     */
<span class="nc" id="L60">    public Segment() {</span>
<span class="nc" id="L61">        this.point1 = 0;</span>
<span class="nc" id="L62">        this.point2 = 0;</span>
<span class="nc" id="L63">        this.tridroit = 0;</span>
<span class="nc" id="L64">        this.trigauche = 0;</span>
<span class="nc" id="L65">        this.traiteDroit = false;</span>
<span class="nc" id="L66">        this.traiteGauche = false;</span>
<span class="nc" id="L67">    }</span>

    @Override
    public String toString() {
<span class="nc" id="L71">        return &quot;Segment{&quot; + &quot;point1=&quot; + point1 + &quot;, point2=&quot; + point2 + &quot;, tridroit=&quot; + tridroit + &quot;, trigauche=&quot; + trigauche + &quot;, traiteDroit=&quot; + traiteDroit + &quot;, traiteGauche=&quot; + traiteGauche + '}';</span>
    }

    /**
     * Compares the specified Segment with this Segment for equality. Returns
     * true if all their elements are egals
     *
     *
     * @param segment
     * @return
     */
    public boolean equals(Segment segment) {
<span class="nc bnc" id="L83" title="All 2 branches missed.">        return ((this.getPoint1() == segment.getPoint1())</span>
<span class="nc bnc" id="L84" title="All 2 branches missed.">                &amp;&amp; (this.getPoint2() == segment.getPoint2())</span>
<span class="nc bnc" id="L85" title="All 2 branches missed.">                &amp;&amp; this.getTridroit() == segment.getTridroit()</span>
<span class="nc bnc" id="L86" title="All 2 branches missed.">                &amp;&amp; this.getTrigauche() == segment.getTrigauche()</span>
<span class="nc bnc" id="L87" title="All 2 branches missed.">                &amp;&amp; this.getTraiteGauche() == segment.getTraiteGauche()</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">                &amp;&amp; this.gettraiteDroit() == segment.gettraiteDroit());</span>
    }

    public int search(ArrayList&lt;Segment&gt; segments, ArrayList&lt;Point3D&gt; points) {
<span class="fc" id="L92">        int position = 0;</span>
<span class="fc" id="L93">        int posSegment = 0;</span>
<span class="fc bfc" id="L94" title="All 2 branches covered.">        for (Segment segment : segments) {</span>
<span class="pc bpc" id="L95" title="1 of 4 branches missed.">            if ((points.get(this.getPoint1()).equals(points.get(segment.getPoint1()))) &amp;&amp; points.get(this.getPoint2()).equals(points.get(segment.getPoint2()))</span>
<span class="fc bfc" id="L96" title="All 4 branches covered.">                    || (points.get(this.getPoint1()).equals(points.get(segment.getPoint2())) &amp;&amp; points.get(this.getPoint2()).equals(points.get(segment.getPoint1())))) {</span>
<span class="fc" id="L97">                position = posSegment;</span>
            }
<span class="fc" id="L99">            posSegment++;</span>
<span class="fc" id="L100">        }</span>
<span class="fc" id="L101">        return position;</span>
    }

    /**
     * Get the value of trigauche
     *
     * @return the value of trigauche
     */
    public int getTrigauche() {
<span class="fc" id="L110">        return trigauche;</span>
    }

    /**
     * Set the value of trigauche
     *
     * @param trigauche new value of trigauche
     */
    public void setTrigauche(int trigauche) {
<span class="fc" id="L119">        this.trigauche = trigauche;</span>
<span class="fc" id="L120">    }</span>

    /**
     * Get the value of tridroit
     *
     * @return the value of tridroit
     */
    public int getTridroit() {
<span class="fc" id="L128">        return tridroit;</span>
    }

    /**
     * Set the value of tridroit
     *
     * @param tridroit new value of tridroit
     */
    public void setTridroit(int tridroit) {
<span class="fc" id="L137">        this.tridroit = tridroit;</span>
<span class="fc" id="L138">    }</span>

    /**
     * Get the value of point2
     *
     * @return the value of point2
     */
    public int getPoint2() {
<span class="fc" id="L146">        return point2;</span>
    }

    /**
     * Set the value of point2
     *
     * @param point2 new value of point2
     */
    public void setPoint2(int point2) {
<span class="nc" id="L155">        this.point2 = point2;</span>
<span class="nc" id="L156">    }</span>

    /**
     * Get the value of point1
     *
     * @return the value of point1
     */
    public int getPoint1() {
<span class="fc" id="L164">        return point1;</span>
    }

    /**
     * Set the value of point1
     *
     * @param point1 new value of point1
     */
    public void setPoint1(int point1) {
<span class="nc" id="L173">        this.point1 = point1;</span>
<span class="nc" id="L174">    }</span>

    /**
     * Get the value of traiteDroit
     *
     * @return the value of point1
     */
    public boolean gettraiteDroit() {
<span class="fc" id="L182">        return traiteDroit;</span>
    }

    /**
     * Set the value of traiteDroit
     *
     * @param traiteDroit new value of traiteDroit
     */
    public void setTraiteDroit(boolean traiteDroit) {
<span class="fc" id="L191">        this.traiteDroit = traiteDroit;</span>
<span class="fc" id="L192">    }</span>

    /**
     * Get the value of traiteGauche
     *
     * @return the value of traiteGauche
     */
    public boolean getTraiteGauche() {
<span class="fc" id="L200">        return traiteGauche;</span>
    }

    /**
     * Set the value of traiteGauche
     *
     * @param traiteGauche new value of traiteGauche
     */
    public void setTraiteGauche(boolean traiteGauche) {
<span class="fc" id="L209">        this.traiteGauche = traiteGauche;</span>
<span class="fc" id="L210">    }</span>

    /**
     * cherche et complete trigauche et tridroit du segment selon une liste de
     * triangle donné, et met à jour les triangle concernés
     *
     * @param triangles liste de triangles dans lequel il faut chercher ceux
     * juxtaposés au segment manipulé
     */
    public void chercheTriangle(ArrayList&lt;Triangle&gt; triangles, ArrayList&lt;Segment&gt; segments) {

<span class="nc" id="L221">        int pos = 0;</span>
<span class="nc bnc" id="L222" title="All 2 branches missed.">        for (Triangle triangle : triangles) {</span>
<span class="nc bnc" id="L223" title="All 4 branches missed.">            if (triangle.getPoint2() == point1 &amp;&amp; triangle.getPoint1() == point2) {</span>
<span class="nc" id="L224">                this.setTridroit(pos);</span>
<span class="nc" id="L225">                triangle.setSegment1(segments.indexOf(this));</span>
            }
<span class="nc bnc" id="L227" title="All 4 branches missed.">            if (triangle.getPoint3() == point1 &amp;&amp; triangle.getPoint2() == point2) {</span>
<span class="nc" id="L228">                this.setTridroit(pos);</span>
<span class="nc" id="L229">                triangle.setSegment2(segments.indexOf(this));</span>
            }
<span class="nc bnc" id="L231" title="All 4 branches missed.">            if (triangle.getPoint1() == point1 &amp;&amp; triangle.getPoint3() == point2) {</span>
<span class="nc" id="L232">                this.setTridroit(pos);</span>
<span class="nc" id="L233">                triangle.setSegment3(segments.indexOf(this));</span>
            }

<span class="nc bnc" id="L236" title="All 4 branches missed.">            if (triangle.getPoint1() == point1 &amp;&amp; triangle.getPoint2() == point2) {</span>
<span class="nc" id="L237">                this.setTrigauche(pos);</span>
<span class="nc" id="L238">                triangle.setSegment1(segments.indexOf(this));</span>
            }
<span class="nc bnc" id="L240" title="All 4 branches missed.">            if (triangle.getPoint2() == point1 &amp;&amp; triangle.getPoint3() == point2) {</span>
<span class="nc" id="L241">                this.setTrigauche(pos);</span>
<span class="nc" id="L242">                triangle.setSegment2(segments.indexOf(this));</span>
            }
<span class="nc bnc" id="L244" title="All 4 branches missed.">            if (triangle.getPoint3() == point1 &amp;&amp; triangle.getPoint1() == point2) {</span>
<span class="nc" id="L245">                this.setTrigauche(pos);</span>
<span class="nc" id="L246">                triangle.setSegment3(segments.indexOf(this));</span>
            }

<span class="nc" id="L249">            pos++;</span>
<span class="nc" id="L250">        }</span>

<span class="nc" id="L252">    }</span>

    /**
     * gere la propagation d'un bassin versant dans le cas où le triangle du
     * maillage necessite d'etre découpé Le segment est celui qui peut étendre
     * le bassin versant
     *
     * @param pointPos séparateur du segment en 2, calculé precedemment selon le
     * bassin versant
     * @param bassin triangle où le bassin versant c'est propagé, et dont seule
     * une partie est intégré dans le bassin versant, nécessitant un redecoupage
     * du segment d'où l'eau peut provenir et des 2 triangles adjacent (triangle
     * appelant la methode calculprojete)
     * @param passant point du triangle &quot;bassin&quot; , appartenant égalemment au
     * segment à découper et au segment parametre de la methode calculProjete
     * ayant entrainé l'appel de cette methode
     * @param bassinVersant
     * @param points
     * @param segments
     * @param triangles
     */
    public void decoupe(int pointPos, int bassin, int passant, ArrayList&lt;Triangle&gt; bassinVersant, ArrayList&lt;Point3D&gt; points, ArrayList&lt;Segment&gt; segments, ArrayList&lt;Triangle&gt; triangles) {

<span class="fc" id="L275">        int pointExtGauche = 0, pointExtDroit = 0;</span>
<span class="fc" id="L276">        int seg1 = 0, seg2 = 0;</span>
<span class="fc" id="L277">        int segDroitExt1 = 0, segGaucheExt1 = 0, segDroitExt2 = 0, segGaucheExt2 = 0, segDroitMid = 0, segGaucheMid = 0;</span>
<span class="fc" id="L278">        int triDroit1 = 0, triDroit2 = 0, triGauche1 = 0, triGauche2 = 0;</span>

<span class="fc" id="L280">        seg1 = segments.size();</span>
<span class="fc" id="L281">        segments.add(new Segment(this.getPoint2(), pointPos));</span>
<span class="fc" id="L282">        seg2 = segments.size();</span>
<span class="fc" id="L283">        segments.add(new Segment(pointPos, this.getPoint1()));</span>
        // découpe du 1er triangle  juxtaposé (droit)
<span class="pc bpc" id="L285" title="1 of 2 branches missed.">        if (this.getTridroit() &gt; 0) {</span>
<span class="pc bpc" id="L286" title="1 of 4 branches missed.">            if ((triangles.get(this.getTridroit()).getPoint1() == this.getPoint2() &amp;&amp; triangles.get(this.getTridroit()).getPoint2() == this.getPoint1())</span>
<span class="fc bfc" id="L287" title="All 4 branches covered.">                    || (triangles.get(this.getTridroit()).getPoint1() == this.getPoint1() &amp;&amp; triangles.get(this.getTridroit()).getPoint2() == this.getPoint2())) {</span>
<span class="fc" id="L288">                pointExtDroit = triangles.get(this.getTridroit()).getPoint3();</span>
<span class="fc" id="L289">                segDroitExt1 = triangles.get(this.getTridroit()).getSegment3();</span>
<span class="fc" id="L290">                segDroitExt2 = triangles.get(this.getTridroit()).getSegment2();</span>
            }

<span class="pc bpc" id="L293" title="1 of 4 branches missed.">            if ((triangles.get(this.getTridroit()).getPoint2() == this.getPoint2() || triangles.get(this.getTridroit()).getPoint3() == this.getPoint1())</span>
<span class="pc bpc" id="L294" title="1 of 4 branches missed.">                    || (triangles.get(this.getTridroit()).getPoint2() == this.getPoint1() || triangles.get(this.getTridroit()).getPoint3() == this.getPoint2())) {</span>
<span class="fc" id="L295">                pointExtDroit = triangles.get(this.getTridroit()).getPoint1();</span>
<span class="fc" id="L296">                segDroitExt1 = triangles.get(this.getTridroit()).getSegment1();</span>
<span class="fc" id="L297">                segDroitExt2 = triangles.get(this.getTridroit()).getSegment3();</span>

            }
<span class="fc bfc" id="L300" title="All 4 branches covered.">            if ((triangles.get(this.getTridroit()).getPoint3() == this.getPoint2() || triangles.get(this.getTridroit()).getPoint1() == this.getPoint1())</span>
<span class="pc bpc" id="L301" title="1 of 4 branches missed.">                    || (triangles.get(this.getTridroit()).getPoint3() == this.getPoint1() || triangles.get(this.getTridroit()).getPoint1() == this.getPoint2())) {</span>
<span class="fc" id="L302">                pointExtDroit = triangles.get(this.getTridroit()).getPoint2();</span>
<span class="fc" id="L303">                segDroitExt1 = triangles.get(this.getTridroit()).getSegment2();</span>
<span class="fc" id="L304">                segDroitExt2 = triangles.get(this.getTridroit()).getSegment1();</span>

            }

<span class="fc" id="L308">            segDroitMid = segments.size();</span>
<span class="fc" id="L309">            segments.add(new Segment(pointPos, pointExtDroit));</span>


<span class="fc" id="L312">            triDroit1 = triangles.size();</span>
<span class="fc" id="L313">            triangles.add(new Triangle(seg1, segDroitMid, segDroitExt1, segments, points));</span>
         
<span class="fc" id="L315">            triDroit2 = triangles.size();</span>
<span class="fc" id="L316">            triangles.add(new Triangle(segDroitExt2, segDroitMid, seg2, segments, points));</span>

            //ajoute les 2 nouveaux triangles au nouveau segment qui les sépare
<span class="fc" id="L319">            segments.get(segDroitMid).setTridroit(triDroit1);</span>
<span class="fc" id="L320">            segments.get(segDroitMid).setTrigauche(triDroit2);</span>

            // modifie les segment extérieurs pour qu'ils prennent en compte les 2 nouveaux triangles
<span class="fc bfc" id="L323" title="All 2 branches covered.">            if (this.getTridroit() == segments.get(segDroitExt1).getTridroit()) {</span>
<span class="fc" id="L324">                segments.get(segDroitExt1).setTridroit(triDroit1);</span>
            } else {
<span class="fc" id="L326">                segments.get(segDroitExt1).setTrigauche(triDroit1);</span>

            }

<span class="fc bfc" id="L330" title="All 2 branches covered.">            if (this.getTridroit() == segments.get(segDroitExt2).getTridroit()) {</span>
<span class="fc" id="L331">                segments.get(segDroitExt2).setTridroit(triDroit2);</span>
            } else {
<span class="fc" id="L333">                segments.get(segDroitExt2).setTrigauche(triDroit2);</span>
            }

        }

        // découpe du 2eme triangle  juxtaposé
<span class="pc bpc" id="L339" title="1 of 2 branches missed.">        if (this.getTrigauche() &gt; 0) {</span>
<span class="pc bpc" id="L340" title="1 of 4 branches missed.">            if ((triangles.get(this.getTrigauche()).getPoint1() == this.getPoint1() &amp;&amp; triangles.get(this.getTrigauche()).getPoint2() == this.getPoint2())</span>
<span class="pc bpc" id="L341" title="1 of 4 branches missed.">                    || (triangles.get(this.getTrigauche()).getPoint1() == this.getPoint2() &amp;&amp; triangles.get(this.getTrigauche()).getPoint2() == this.getPoint1())) {</span>
<span class="nc" id="L342">                pointExtGauche = triangles.get(this.getTrigauche()).getPoint3();</span>
<span class="nc" id="L343">                segGaucheExt1 = triangles.get(this.getTrigauche()).getSegment3();</span>
<span class="nc" id="L344">                segGaucheExt2 = triangles.get(this.getTrigauche()).getSegment2();</span>
            }
<span class="pc bpc" id="L346" title="1 of 4 branches missed.">            if ((triangles.get(this.getTrigauche()).getPoint2() == this.getPoint1() &amp;&amp; triangles.get(this.getTrigauche()).getPoint3() == this.getPoint2())</span>
<span class="pc bpc" id="L347" title="3 of 4 branches missed.">                    || (triangles.get(this.getTrigauche()).getPoint2() == this.getPoint2() &amp;&amp; triangles.get(this.getTrigauche()).getPoint3() == this.getPoint1())) {</span>
<span class="fc" id="L348">                pointExtGauche = triangles.get(this.getTrigauche()).getPoint1();</span>
<span class="fc" id="L349">                segGaucheExt1 = triangles.get(this.getTrigauche()).getSegment1();</span>
<span class="fc" id="L350">                segGaucheExt2 = triangles.get(this.getTrigauche()).getSegment3();</span>

            }
<span class="pc bpc" id="L353" title="1 of 4 branches missed.">            if ((triangles.get(this.getTrigauche()).getPoint1() == this.getPoint1() &amp;&amp; triangles.get(this.getTrigauche()).getPoint3() == this.getPoint2())</span>
<span class="pc bpc" id="L354" title="1 of 4 branches missed.">                    || (triangles.get(this.getTrigauche()).getPoint1() == this.getPoint2() &amp;&amp; triangles.get(this.getTrigauche()).getPoint3() == this.getPoint1())) {</span>
<span class="fc" id="L355">                pointExtGauche = triangles.get(this.getTrigauche()).getPoint2();</span>
<span class="fc" id="L356">                segGaucheExt1 = triangles.get(this.getTrigauche()).getSegment2();</span>
<span class="fc" id="L357">                segGaucheExt2 = triangles.get(this.getTrigauche()).getSegment1();</span>

            }

<span class="fc" id="L361">            segGaucheMid = segments.size();</span>
<span class="fc" id="L362">            segments.add(new Segment(pointPos, pointExtGauche));</span>

<span class="fc" id="L364">            triGauche1 = triangles.size();</span>
<span class="fc" id="L365">            triangles.add(new Triangle(seg2, segGaucheMid, segGaucheExt1, segments, points));</span>
<span class="fc" id="L366">            triGauche2 = triangles.size();</span>
<span class="fc" id="L367">            triangles.add(new Triangle(segGaucheExt2, segGaucheMid, seg1, segments, points));</span>

            //add 2 news Triangle to the 
<span class="fc" id="L370">            segments.get(segGaucheMid).setTridroit(triGauche1);</span>
<span class="fc" id="L371">            segments.get(segGaucheMid).setTrigauche(triGauche2);</span>

            // modifie les segment extérieurs pour qu'ils prennent en compte les 2 nouveaux triangles
<span class="fc bfc" id="L374" title="All 2 branches covered.">            if (this.getTrigauche() == segments.get(segGaucheExt1).getTridroit()) {</span>
<span class="fc" id="L375">                segments.get(segGaucheExt1).setTridroit(triGauche1);</span>
            } else {
<span class="fc" id="L377">                segments.get(segGaucheExt1).setTrigauche(triGauche1);</span>

            }

<span class="fc bfc" id="L381" title="All 2 branches covered.">            if (this.getTrigauche() == segments.get(segGaucheExt2).getTridroit()) {</span>
<span class="fc" id="L382">                segments.get(segGaucheExt2).setTridroit(triGauche2);</span>
            } else {
<span class="fc" id="L384">                segments.get(segGaucheExt2).setTrigauche(triGauche2);</span>
            }

        }

        // ajout des 4 triangles créés aux 2 segments séparant les 2 anciens triangles
<span class="pc bpc" id="L390" title="1 of 2 branches missed.">        if (this.getTridroit() &gt; 0) {</span>
<span class="fc" id="L391">            segments.get(seg2).setTridroit(triDroit2);</span>
<span class="fc" id="L392">            segments.get(seg1).setTridroit(triDroit1);</span>
        }
<span class="pc bpc" id="L394" title="1 of 2 branches missed.">        if (this.getTrigauche() &gt; 0) {</span>
<span class="fc" id="L395">            segments.get(seg2).setTrigauche(triGauche1);</span>
<span class="fc" id="L396">            segments.get(seg1).setTrigauche(triGauche2);</span>
        }

        // Ajout du triangle correspondant au bassin versant et propagation du bassin (cas où le triangle qui a provoqué la séparation était le triangle droit du segment actuel)
<span class="fc bfc" id="L400" title="All 2 branches covered.">        if ((bassin == this.getTridroit())) {</span>

<span class="pc bpc" id="L402" title="2 of 6 branches missed.">            if (triangles.get(triDroit1).getPoint1() == passant || triangles.get(triDroit1).getPoint2() == passant || triangles.get(triDroit1).getPoint3() == passant) {</span>
<span class="fc" id="L403">                bassinVersant.add(triangles.get(triDroit1));</span>
<span class="pc bpc" id="L404" title="1 of 2 branches missed.">                if (triDroit1 == segments.get(triangles.get(triDroit1).getSegment1()).getTridroit()) {</span>
<span class="pc bpc" id="L405" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triDroit1).getSegment1()).getTrigauche() &gt; 0) {</span>
<span class="fc" id="L406">                        triangles.get(segments.get(triangles.get(triDroit1).getSegment1()).getTrigauche()).calculProjete(triangles.get(triDroit1).getSegment1(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {
<span class="nc bnc" id="L409" title="All 2 branches missed.">                    if (segments.get(triangles.get(triDroit1).getSegment1()).getTridroit() &gt; 0) {</span>
<span class="nc" id="L410">                        triangles.get(segments.get(triangles.get(triDroit1).getSegment1()).getTridroit()).calculProjete(triangles.get(triDroit1).getSegment1(), triangles, segments, points, bassinVersant);</span>
                    }
                }

<span class="pc bpc" id="L414" title="1 of 2 branches missed.">                if (triDroit1 == segments.get(triangles.get(triDroit1).getSegment2()).getTridroit()) {</span>
<span class="pc bpc" id="L415" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triDroit1).getSegment2()).getTrigauche() &gt; 0) {</span>
<span class="fc" id="L416">                        triangles.get(segments.get(triangles.get(triDroit1).getSegment2()).getTrigauche()).calculProjete(triangles.get(triDroit1).getSegment2(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {
<span class="nc bnc" id="L419" title="All 2 branches missed.">                    if (segments.get(triangles.get(triDroit1).getSegment2()).getTridroit() &gt; 0) {</span>
<span class="nc" id="L420">                        triangles.get(segments.get(triangles.get(triDroit1).getSegment2()).getTridroit()).calculProjete(triangles.get(triDroit1).getSegment2(), triangles, segments, points, bassinVersant);</span>
                    }
                }

<span class="pc bpc" id="L424" title="1 of 2 branches missed.">                if (triDroit1 == segments.get(triangles.get(triDroit1).getSegment3()).getTridroit()) {</span>
<span class="nc bnc" id="L425" title="All 2 branches missed.">                    if (segments.get(triangles.get(triDroit1).getSegment3()).getTrigauche() &gt; 0) {</span>
<span class="nc" id="L426">                        triangles.get(segments.get(triangles.get(triDroit1).getSegment3()).getTrigauche()).calculProjete(triangles.get(triDroit1).getSegment3(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {
<span class="fc bfc" id="L429" title="All 2 branches covered.">                    if (segments.get(triangles.get(triDroit1).getSegment3()).getTridroit() &gt; 0) {</span>
<span class="fc" id="L430">                        triangles.get(segments.get(triangles.get(triDroit1).getSegment3()).getTridroit()).calculProjete(triangles.get(triDroit1).getSegment3(), triangles, segments, points, bassinVersant);</span>
                    }
                }

            } else {
<span class="fc" id="L435">                bassinVersant.add(triangles.get(triDroit2));</span>
<span class="pc bpc" id="L436" title="1 of 2 branches missed.">                if (triDroit2 == segments.get(triangles.get(triDroit2).getSegment1()).getTridroit()) {</span>
<span class="nc bnc" id="L437" title="All 2 branches missed.">                    if (segments.get(triangles.get(triDroit2).getSegment1()).getTrigauche() &gt; 0) {</span>
<span class="nc" id="L438">                        triangles.get(segments.get(triangles.get(triDroit2).getSegment1()).getTrigauche()).calculProjete(triangles.get(triDroit2).getSegment1(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {
<span class="pc bpc" id="L441" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triDroit2).getSegment1()).getTridroit() &gt; 0) {</span>
<span class="fc" id="L442">                        triangles.get(segments.get(triangles.get(triDroit2).getSegment1()).getTridroit()).calculProjete(triangles.get(triDroit2).getSegment1(), triangles, segments, points, bassinVersant);</span>
                    }
                }

<span class="pc bpc" id="L446" title="1 of 2 branches missed.">                if (triDroit2 == segments.get(triangles.get(triDroit2).getSegment2()).getTridroit()) {</span>
<span class="nc bnc" id="L447" title="All 2 branches missed.">                    if (segments.get(triangles.get(triDroit2).getSegment2()).getTrigauche() &gt; 0) {</span>
<span class="nc" id="L448">                        triangles.get(segments.get(triangles.get(triDroit2).getSegment2()).getTrigauche()).calculProjete(triangles.get(triDroit2).getSegment2(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {
<span class="pc bpc" id="L451" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triDroit2).getSegment2()).getTridroit() &gt; 0) {</span>
<span class="fc" id="L452">                        triangles.get(segments.get(triangles.get(triDroit2).getSegment2()).getTridroit()).calculProjete(triangles.get(triDroit2).getSegment2(), triangles, segments, points, bassinVersant);</span>
                    }
                }

<span class="pc bpc" id="L456" title="1 of 2 branches missed.">                if (triDroit2 == segments.get(triangles.get(triDroit2).getSegment3()).getTridroit()) {</span>
<span class="pc bpc" id="L457" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triDroit2).getSegment3()).getTrigauche() &gt; 0) {</span>
<span class="fc" id="L458">                        triangles.get(segments.get(triangles.get(triDroit2).getSegment3()).getTrigauche()).calculProjete(triangles.get(triDroit2).getSegment3(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {
<span class="nc bnc" id="L461" title="All 2 branches missed.">                    if (segments.get(triangles.get(triDroit2).getSegment3()).getTridroit() &gt; 0) {</span>
<span class="nc" id="L462">                        triangles.get(segments.get(triangles.get(triDroit2).getSegment3()).getTridroit()).calculProjete(triangles.get(triDroit2).getSegment3(), triangles, segments, points, bassinVersant);</span>
                    }
                }
            }
        }

        // Ajout du triangle correspondant au bassin versant et propagation du bassin (cas où le triangle qui a provoqué la séparation était le triangle gauche du segment actuel)
<span class="fc bfc" id="L469" title="All 2 branches covered.">        if (bassin == this.getTrigauche()) {</span>

<span class="pc bpc" id="L471" title="2 of 6 branches missed.">            if (triangles.get(triGauche1).getPoint1() == passant || triangles.get(triGauche1).getPoint2() == passant || triangles.get(triGauche1).getPoint3() == passant) {</span>
<span class="fc" id="L472">                bassinVersant.add(triangles.get(triGauche1));</span>

<span class="pc bpc" id="L474" title="1 of 2 branches missed.">                if (segments.get(triangles.get(triGauche1).getSegment1()).getTridroit() == triGauche1) {</span>

<span class="nc bnc" id="L476" title="All 2 branches missed.">                    if (segments.get(triangles.get(triGauche1).getSegment1()).getTrigauche() &gt; 0) {</span>
<span class="nc" id="L477">                        triangles.get(segments.get(triangles.get(triGauche1).getSegment1()).getTrigauche()).calculProjete(triangles.get(triGauche1).getSegment1(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {

<span class="pc bpc" id="L481" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triGauche1).getSegment1()).getTridroit() &gt; 0) {</span>
<span class="fc" id="L482">                        triangles.get(segments.get(triangles.get(triGauche1).getSegment1()).getTridroit()).calculProjete(triangles.get(triGauche1).getSegment1(), triangles, segments, points, bassinVersant);</span>
                    }
                }

<span class="pc bpc" id="L486" title="1 of 2 branches missed.">                if (segments.get(triangles.get(triGauche1).getSegment2()).getTridroit() == triGauche1) {</span>

<span class="pc bpc" id="L488" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triGauche1).getSegment2()).getTrigauche() &gt; 0) {</span>
<span class="fc" id="L489">                        triangles.get(segments.get(triangles.get(triGauche1).getSegment2()).getTrigauche()).calculProjete(triangles.get(triGauche1).getSegment2(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {

<span class="nc bnc" id="L493" title="All 2 branches missed.">                    if (segments.get(triangles.get(triGauche1).getSegment2()).getTridroit() &gt; 0) {</span>
<span class="nc" id="L494">                        triangles.get(segments.get(triangles.get(triGauche1).getSegment2()).getTridroit()).calculProjete(triangles.get(triGauche1).getSegment2(), triangles, segments, points, bassinVersant);</span>
                    }
                }

<span class="pc bpc" id="L498" title="1 of 2 branches missed.">                if (segments.get(triangles.get(triGauche1).getSegment3()).getTridroit() == triGauche1) {</span>

<span class="nc bnc" id="L500" title="All 2 branches missed.">                    if (segments.get(triangles.get(triGauche1).getSegment3()).getTrigauche() &gt; 0) {</span>
<span class="nc" id="L501">                        triangles.get(segments.get(triangles.get(triGauche1).getSegment3()).getTrigauche()).calculProjete(triangles.get(triGauche1).getSegment3(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {

<span class="pc bpc" id="L505" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triGauche1).getSegment3()).getTridroit() &gt; 0) {</span>
<span class="fc" id="L506">                        triangles.get(segments.get(triangles.get(triGauche1).getSegment3()).getTridroit()).calculProjete(triangles.get(triGauche1).getSegment3(), triangles, segments, points, bassinVersant);</span>
                    }
                }

            } else {
<span class="fc" id="L511">                bassinVersant.add(triangles.get(triGauche2));</span>
<span class="fc bfc" id="L512" title="All 2 branches covered.">                if (triGauche2 == segments.get(triangles.get(triGauche2).getSegment1()).getTridroit()) {</span>

<span class="pc bpc" id="L514" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triGauche2).getSegment1()).getTrigauche() &gt; 0) {</span>
<span class="fc" id="L515">                        triangles.get(segments.get(triangles.get(triGauche2).getSegment1()).getTrigauche()).calculProjete(triangles.get(triGauche2).getSegment1(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {

<span class="fc bfc" id="L519" title="All 2 branches covered.">                    if (segments.get(triangles.get(triGauche2).getSegment1()).getTridroit() &gt; 0) {</span>
<span class="fc" id="L520">                        triangles.get(segments.get(triangles.get(triGauche2).getSegment1()).getTridroit()).calculProjete(triangles.get(triGauche2).getSegment1(), triangles, segments, points, bassinVersant);</span>
                    }
                }

<span class="pc bpc" id="L524" title="1 of 2 branches missed.">                if (triGauche2 == segments.get(triangles.get(triGauche2).getSegment2()).getTridroit()) {</span>

<span class="nc bnc" id="L526" title="All 2 branches missed.">                    if (segments.get(triangles.get(triGauche2).getSegment2()).getTrigauche() &gt; 0) {</span>
<span class="nc" id="L527">                        triangles.get(segments.get(triangles.get(triGauche2).getSegment2()).getTrigauche()).calculProjete(triangles.get(triGauche2).getSegment2(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {

<span class="pc bpc" id="L531" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triGauche2).getSegment2()).getTridroit() &gt; 0) {</span>
<span class="fc" id="L532">                        triangles.get(segments.get(triangles.get(triGauche2).getSegment2()).getTridroit()).calculProjete(triangles.get(triGauche2).getSegment2(), triangles, segments, points, bassinVersant);</span>
                    }
                }
<span class="pc bpc" id="L535" title="1 of 2 branches missed.">                if (triGauche2 == segments.get(triangles.get(triGauche2).getSegment3()).getTridroit()) {</span>

<span class="nc bnc" id="L537" title="All 2 branches missed.">                    if (segments.get(triangles.get(triGauche1).getSegment3()).getTrigauche() &gt; 0) {</span>
<span class="nc" id="L538">                        triangles.get(segments.get(triangles.get(triGauche2).getSegment3()).getTrigauche()).calculProjete(triangles.get(triGauche2).getSegment3(), triangles, segments, points, bassinVersant);</span>
                    }
                } else {

<span class="pc bpc" id="L542" title="1 of 2 branches missed.">                    if (segments.get(triangles.get(triGauche2).getSegment3()).getTridroit() &gt; 0) {</span>
<span class="fc" id="L543">                        triangles.get(segments.get(triangles.get(triGauche2).getSegment3()).getTridroit()).calculProjete(triangles.get(triGauche2).getSegment3(), triangles, segments, points, bassinVersant);</span>
                    }
                }
            }

        }

<span class="fc" id="L550">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201409121644</span></div></body></html>